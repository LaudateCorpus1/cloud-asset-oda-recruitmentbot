# Recruitment Bot

super bot

This application constitutes standalone services for the Recruitment Bot project.
This codebase was generated by utilizing the bot project generator utility.

## Usage
```shell
cd recruitment_bot
npm start # run bots-service-recruitment-bot container and watch for changes
```

Developers may also use [docker-compose](https://docs.docker.com/compose/) to run the bot services.
As a convenience, the `obot compose` command is a pipe to `docker-compose` commands
with environment helpers. Accordingly, `obot compose up` will start the standalone
services as `bots-service-recruitment-bot:7950` with an optional debugger
at `localhost:7929`.

Creating additional custom component services is easily performed with the project generator utility.
Freshly generated components are automatically registered with the middleware, so **no additional changes**
or configurations are required.

```shell
obot add component
```

## Custom Components

Developing Custom Components is performed according to the standard
[documentation](https://docs.oracle.com/en/cloud/paas/mobile-suite/develop/bot-components1.html#GUID-899EAAC9-2EF5-4C81-A836-F2CD4FA647DD)
and guidelines as specified.

**NOTE:** The traditional `registry.js` is replaced with a configurable registry builder
inside `services/component` by default. If `registry.js` usage is desired, the service is backwards-compatible
and can be updated accordingly:

```javascript
function ComponentServices() {
  const registry = require('../registry');
  return createComponentsServer(null, registry);
}
```

It is also possible to export multiple Custom Component objects from a single file,
and requires no changes to the component service configuration.

```javascript
const MyComponent = { /*...*/ };
const MyOtherComponent = { /*...*/ };

module.exports = {
  MyComponent,
  MyOtherComponent,
}
```

## Unit Testing & Code Coverage

Unit testing is available using [Jasmine](https://jasmine.github.io/),
with code coverage from [istanbul](https://istanbul.js.org/). `**/*.spec.js` files may be added
within the `./spec` directory.

```shell
npm test
```

```javascript
const Tester = require('@oracle/bots-node-sdk/testing');
const MyComponent = require('../../components/my.component');

describe('MyComponent', () => {
  it('should invoke without error', done => {
    const conv = Tester.MockConversation.any();
    MyComponent.invoke(conv, (err) => {
      expect(err).toBeFalsy();
      expect(conv.getReplies().length).toBeGreaterThan(0);
      done();
    });
  });
});
```

## Deploying to OMCe

1. Create an OMCe API by importing  `component.service.raml` file
1. Run `obot pack` and upload the resulting implementation `.zip`