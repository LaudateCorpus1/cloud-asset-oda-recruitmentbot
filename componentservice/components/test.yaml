        - entity: "ExpenseType"
          name: "Type"
          errorMessage: "${system.message.messagePayload.text} is not a valid expense type. "
          multiValue: false
          fuzzyMatch: false
          allowOutOfOrderExtraction: true
          promptForDisambiguation: false
          updateAllowed: true
          prompts:
          - sequenceNr: 1
            text: "What type of expense would you like to create? For example 'Taxi' or 'Lunch'"
          - sequenceNr: 1
            text: "Can you give me the expense type? For example 'Taxi' or 'Lunch'"
          - sequenceNr: 2
            text: "You can expense a transportation (taxi, Uber, metro), an hotel, a parking, a meal (breakfast, meal, dinner)"
          - sequenceNr: 3
            text: "I see you have problems providing the expense type, do you want to see all types?"

        - entity: "CURRENCY"
          name: "Amount"
          errorMessage: "Sorry, ${system.message.messagePayload.text} is not a valid amount. "
          allowOutOfOrderExtraction: true
          updateAllowed: true
          prompts:
          - sequenceNr: 1
            text: "How much did you pay?"
          - sequenceNr: 2
            text: "Please specify the expense amount and currency. For example '$30' or '20 euros'"

        - entity: "YES_NO"
          name: "UseCanadianDollars"
          errorMessage: "Sorry, I didn't get that, please answer with 'yes' or 'no'"
          allowOutOfOrderExtraction: false
          promptForValue: "${expense.value.Amount.currency=='dollar' && lastExpense.value?has_content && lastExpense.value.Amount.currency=='cad'}"
          updateAllowed: false
          prompts:
          - text: "Do you still want to use Canadian dollars?"

        - entity: "STRING"
          name: "ReasonMaxAmountExceeded"
          errorMessage: ""
          allowOutOfOrderExtraction: false
          promptForValue: "${expense.value.Amount.amount > 2000}"
          updateAllowed: false
          prompts:
          - text: "You need to give a justification for any transaction above 2000 USD. Please enter a reason to add to this expense."

        - entity: "DATE"
          name: "Date"
          errorMessage: "${system.message.messagePayload.text} is not a valid date. "
          allowOutOfOrderExtraction: true
          updateAllowed: true
          prompts:
          - sequenceNr: 1
            text: "When did that expense occur?"
          - sequenceNr: 2
            text: "Can you provide a valid expense date? For example 'yesterday', 'jul 2' or '20 jun'"

        - entity: "ATTACHMENT" 
          name: "Receipt"
          attachmentVariable: "receiptAttachment"
          allowOutOfOrderExtraction: false
          promptForValue: "${expense.value.Amount.amount > 25}"
          prompts:
          - text: "A receipt is needed for expenses above 25$. If you have a digital version of the receipt, you can attach it. If you have a printed version, you can take a picture and attach it.'"

        - entity: "YES_NO"
          name: "Confirmed"
          allowOutOfOrderExtraction: false
          prompts:
          - text: "I have all information needed to create your expense. Just to verify my understanding: you want to expense a ${expense.value.Type} for ${expense.value.Amount.amount} ${expense.value.Amount.currency} on ${expense.value.Date.date?number_to_date}. Is that correct?'"

        - entity: "YES_NO"
          name: "AnythingElse"
          repeatUntil: "${expense.value.AnythingElse=='NO'}"
          promptForValue: "${expense.value.Confirmed=='NO'}"
          allowOutOfOrderExtraction: false
          prompts:
          - sequenceNr: 1
            text: "What do you want to change?"
          - text: "Anything else you want to change?"
